<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>字体展示 — 拉丁字母应用效果</title>
  <style>
    /* ========== 您设计的字体 Broken-Regular ========== */
    @font-face {
      font-family: 'MyLatinFont';
      src: url('Broken-Regular.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    :root {
      --font-size: 48px;
      --letter-spacing: 0em;
      --line-height: 1.5;
      --font-family: 'MyLatinFont', 'Georgia', serif;
      /* 神秘黑主题 */
      --bg: #0a0a0c;
      --surface: #121214;
      --border: rgba(255,255,255,0.06);
      --text: #e8e6e3;
      --muted: #6b6b70;
      --accent: #8b7fc7;
    }

    /* 锤子光标（须用 32×32 小图，浏览器不显示超大图） */
    .hammer-cursor {
      cursor: url('hammer-cursor-32.png') 16 16, auto;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      background: var(--bg);
    }

    body {
      font-family: var(--font-family);
      min-height: 100vh;
      background: var(--bg);
      color: var(--text);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem 1.5rem;
    }

    .header {
      text-align: center;
      margin-bottom: 2.5rem;
    }

    .header h1 {
      font-size: 0.9rem;
      font-weight: normal;
      letter-spacing: 0.25em;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 0.25rem;
    }

    .header p {
      font-size: 0.75rem;
      color: var(--muted);
      opacity: 0.85;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem 2rem;
      justify-content: center;
      margin-bottom: 2rem;
      padding: 1.25rem 1.5rem;
      background: var(--surface);
      border-radius: 12px;
      border: 1px solid var(--border);
      box-shadow: 0 4px 24px rgba(0,0,0,0.4);
      max-width: 560px;
    }

    .control-group {
      flex: 1;
      min-width: 140px;
    }

    .control-group label {
      display: block;
      font-size: 0.7rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 0.4rem;
      font-family: system-ui, -apple-system, sans-serif;
    }

    .control-row {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    input[type="range"] {
      flex: 1;
      height: 6px;
      -webkit-appearance: none;
      appearance: none;
      background: rgba(255,255,255,0.1);
      border-radius: 3px;
      outline: none;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: var(--accent);
      box-shadow: 0 0 12px rgba(139,127,199,0.5);
      cursor: pointer;
      transition: transform 0.15s ease;
    }

    input[type="range"]::-webkit-slider-thumb:hover {
      transform: scale(1.1);
    }

    input[type="range"]::-moz-range-thumb {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: var(--accent);
      box-shadow: 0 0 12px rgba(139,127,199,0.5);
      cursor: pointer;
      border: none;
    }

    .control-value {
      font-variant-numeric: tabular-nums;
      font-size: 0.8rem;
      color: var(--text);
      opacity: 0.9;
      min-width: 3.5rem;
      text-align: right;
      font-family: system-ui, -apple-system, sans-serif;
    }

    .typing-area {
      width: 100%;
      max-width: 720px;
      min-height: 280px;
      padding: 1.5rem 1.75rem;
      background: var(--surface);
      border-radius: 12px;
      border: 1px solid var(--border);
      box-shadow: 0 4px 24px rgba(0,0,0,0.3);
      outline: none;
      resize: vertical;
      font-family: var(--font-family);
      font-size: var(--font-size);
      letter-spacing: var(--letter-spacing);
      line-height: var(--line-height);
      color: var(--text);
      transition: box-shadow 0.2s ease, border-color 0.2s ease;
    }

    .typing-area::placeholder {
      color: var(--muted);
    }

    .typing-area:focus {
      border-color: rgba(139,127,199,0.4);
      box-shadow: 0 4px 32px rgba(0,0,0,0.5), 0 0 0 1px rgba(139,127,199,0.2);
    }

    .hint {
      margin-top: 1rem;
      font-size: 0.75rem;
      color: var(--muted);
      text-align: center;
    }

    .sample {
      margin-top: 2rem;
      padding: 1rem 0;
      border-top: 1px solid var(--border);
      width: 100%;
      max-width: 720px;
    }

    .sample-title {
      font-size: 0.7rem;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 0.75rem;
    }

    .sample-text {
      font-family: var(--font-family);
      font-size: var(--font-size);
      letter-spacing: var(--letter-spacing);
      line-height: var(--line-height);
      color: var(--text);
    }
  </style>
</head>
<body class="hammer-cursor">
  <header class="header">
    <p>键盘输入将使用您设计的拉丁字体显示 · 可调节字号、字间距与行距</p>
  </header>

  <div class="controls">
    <div class="control-group">
      <label for="fontSize">字号</label>
      <div class="control-row">
        <input type="range" id="fontSize" min="12" max="120" value="48" step="2">
        <span class="control-value" id="fontSizeValue">48px</span>
      </div>
    </div>
    <div class="control-group">
      <label for="letterSpacing">字间距</label>
      <div class="control-row">
        <input type="range" id="letterSpacing" min="-0.05" max="0.5" value="0" step="0.01">
        <span class="control-value" id="letterSpacingValue">0em</span>
      </div>
    </div>
    <div class="control-group">
      <label for="lineHeight">行距</label>
      <div class="control-row">
        <input type="range" id="lineHeight" min="0.8" max="3" value="1.5" step="0.1">
        <span class="control-value" id="lineHeightValue">1.5</span>
      </div>
    </div>
  </div>

  <div
    class="typing-area"
    id="typingArea"
    contenteditable="true"
    spellcheck="false"
    data-placeholder="Type here…"
    role="textbox"
    aria-label="字体预览输入区"
  ></div>

  <p class="hint">点击上方区域后使用键盘输入，仅拉丁字母 A–Z、a–z 会应用您的字体</p>

  <section class="sample">
    <div class="sample-title">实时预览（与上方控件同步）</div>
    <div class="sample-text" id="sampleText">The quick brown fox jumps over the lazy dog. ABCDEFGHIJKLMNOPQRSTUVWXYZ</div>
  </section>

  <script>
    (function () {
      var root = document.documentElement;
      var typingArea = document.getElementById('typingArea');
      var sampleText = document.getElementById('sampleText');

      // 仅允许拉丁字母等可打印字符
      function allowLatinOnly(e) {
        var key = e.key;
        if (key.length === 1 && !e.ctrlKey && !e.metaKey && !e.altKey) {
          var code = key.charCodeAt(0);
          var isPrintable = (code >= 32 && code <= 126) || code > 160;
          if (!isPrintable) e.preventDefault();
        }
      }

      typingArea.addEventListener('keydown', allowLatinOnly);

      // placeholder 效果（contenteditable 无原生 placeholder）
      function updatePlaceholder() {
        if (typingArea.textContent.trim() === '') {
          typingArea.classList.add('empty');
          typingArea.setAttribute('data-placeholder', 'Type here…');
        } else {
          typingArea.classList.remove('empty');
        }
      }

      typingArea.addEventListener('input', updatePlaceholder);
      typingArea.addEventListener('focus', updatePlaceholder);
      typingArea.addEventListener('blur', updatePlaceholder);

      // 同步到下方样例
      function syncSample() {
        var text = typingArea.innerText.trim();
        sampleText.textContent = text || 'The quick brown fox jumps over the lazy dog. ABCDEFGHIJKLMNOPQRSTUVWXYZ';
      }

      typingArea.addEventListener('input', syncSample);

      // 字号
      var fontSizeInput = document.getElementById('fontSize');
      var fontSizeValue = document.getElementById('fontSizeValue');
      fontSizeInput.addEventListener('input', function () {
        var px = this.value + 'px';
        root.style.setProperty('--font-size', px);
        fontSizeValue.textContent = px;
      });

      // 字间距
      var letterSpacingInput = document.getElementById('letterSpacing');
      var letterSpacingValue = document.getElementById('letterSpacingValue');
      letterSpacingInput.addEventListener('input', function () {
        var em = parseFloat(this.value).toFixed(2) + 'em';
        root.style.setProperty('--letter-spacing', em);
        letterSpacingValue.textContent = em;
      });

      // 行距
      var lineHeightInput = document.getElementById('lineHeight');
      var lineHeightValue = document.getElementById('lineHeightValue');
      lineHeightInput.addEventListener('input', function () {
        var val = parseFloat(this.value).toFixed(1);
        root.style.setProperty('--line-height', val);
        lineHeightValue.textContent = val;
      });

      // contenteditable 空状态显示 placeholder
      var style = document.createElement('style');
      style.textContent = '.typing-area.empty:before { content: attr(data-placeholder); color: var(--muted); }';
      document.head.appendChild(style);
      typingArea.classList.add('empty');
      updatePlaceholder();
      syncSample();
    })();
  </script>
</body>
</html>
